!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.http=e.http||{})}(this,function(e){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){w(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function R(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(r,n){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return r.apply(n,e)}}function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var s=Object.prototype.toString;function u(e){return"[object Array]"===s.call(e)}function c(e){return null!==e&&"object"==typeof e}function f(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function m(e,t,r,n,o){var a,i,s,u,c,f=new Error(e);return i=t,s=r,u=n,c=o,(a=f).config=i,s&&(a.code=s),a.request=u,a.response=c,a}var v={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!=e&&(i(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))||!!e._isBuffer);var t},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:f,isStream:function(e){return c(e)&&f(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function r(){var n={};function e(e,t){"object"==typeof n[t]&&"object"==typeof e?n[t]=r(n[t],e):n[t]=e}for(var t=0,o=arguments.length;t<o;t++)l(arguments[t],e);return n},extend:function(r,e,n){return l(e,function(e,t){r[t]=n&&"function"==typeof e?a(e,n):e}),r},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function g(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var p,d,h,O=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],k=v.isStandardBrowserEnv()?(d=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a"),p=y(window.location.href),function(e){var t=v.isString(e)?y(e):e;return t.protocol===p.protocol&&t.host===p.host}):function(){return!0};function y(e){var t=e;return d&&(h.setAttribute("href",t),t=h.href),h.setAttribute("href",t),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname}}function x(){this.message="String contains an invalid character"}(x.prototype=new Error).code=5,x.prototype.name="InvalidCharacterError";function E(e){for(var t,r,n=String(e),o="",a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|a)||(i="=",a%1);o+=i.charAt(63&t>>8-a%1*8)){if(255<(r=n.charCodeAt(a+=.75)))throw new x;t=t<<8|r}return o}function S(y){return new Promise(function(l,p){var r=y.data,n=y.headers;v.isFormData(r)&&delete n["Content-Type"];var d=new XMLHttpRequest,e="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||k(y.url)||(d=new window.XDomainRequest,e="onload",h=!0,d.onprogress=function(){},d.ontimeout=function(){}),y.auth){var t=y.auth.username||"",o=y.auth.password||"";n.Authorization="Basic "+T(t+":"+o)}if(d.open(y.method.toUpperCase(),function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(v.isURLSearchParams(t))n=t.toString();else{var o=[];v.forEach(t,function(e,t){null!=e&&(v.isArray(e)&&(t+="[]"),v.isArray(e)||(e=[e]),v.forEach(e,function(e){v.isDate(e)?e=e.toISOString():v.isObject(e)&&(e=JSON.stringify(e)),o.push(g(t)+"="+g(e))}))}),n=o.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}(y.url,y.params,y.paramsSerializer),!0),d.timeout=y.timeout,d[e]=function(){if(d&&(4===d.readyState||h)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e,t,r,n,o,a,i,s,u,c="getAllResponseHeaders"in d?(e=d.getAllResponseHeaders(),o={},e&&v.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=v.trim(e.substr(0,n)).toLowerCase(),r=v.trim(e.substr(n+1)),t){if(o[t]&&0<=O.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):null,f={data:y.responseType&&"text"!==y.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:c,config:y,request:d};a=l,i=p,u=(s=f).config.validateStatus,s.status&&u&&!u(s.status)?i(m("Request failed with status code "+s.status,s.config,null,s.request,s)):a(s),d=null}},d.onerror=function(){p(m("Network Error",y,null,d)),d=null},d.ontimeout=function(){p(m("timeout of "+y.timeout+"ms exceeded",y,"ECONNABORTED",d)),d=null},v.isStandardBrowserEnv()){var a=q,i=(y.withCredentials||k(y.url))&&y.xsrfCookieName?a.read(y.xsrfCookieName):void 0;i&&(n[y.xsrfHeaderName]=i)}if("setRequestHeader"in d&&v.forEach(n,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete n[t]:d.setRequestHeader(t,e)}),y.withCredentials&&(d.withCredentials=!0),y.responseType)try{d.responseType=y.responseType}catch(e){if("json"!==y.responseType)throw e}"function"==typeof y.onDownloadProgress&&d.addEventListener("progress",y.onDownloadProgress),"function"==typeof y.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",y.onUploadProgress),y.cancelToken&&y.cancelToken.promise.then(function(e){d&&(d.abort(),p(e),d=null)}),void 0===r&&(r=null),d.send(r)})}var q=v.isStandardBrowserEnv()?{write:function(e,t,r,n,o,a){var i=[];i.push(e+"="+encodeURIComponent(t)),v.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),v.isString(n)&&i.push("path="+n),v.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},T="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||E,P={"Content-Type":"application/x-www-form-urlencoded"};function C(e,t){!v.isUndefined(e)&&v.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var A,D={adapter:("undefined"!=typeof XMLHttpRequest?A=S:"undefined"!=typeof process&&(A=S),A),transformRequest:[function(e,t){var r,n;return r=t,n="Content-Type",v.forEach(r,function(e,t){t!==n&&t.toUpperCase()===n.toUpperCase()&&(r[n]=e,delete r[t])}),v.isFormData(e)||v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e)?e:v.isArrayBufferView(e)?e.buffer:v.isURLSearchParams(e)?(C(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):v.isObject(e)?(C(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};D.headers={common:{Accept:"application/json, text/plain, */*"}},v.forEach(["delete","get","head"],function(e){D.headers[e]={}}),v.forEach(["post","put","patch"],function(e){D.headers[e]=v.merge(P)});var U=D;function H(){this.handlers=[]}H.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},H.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},H.prototype.forEach=function(t){v.forEach(this.handlers,function(e){null!==e&&t(e)})};function N(t,r,e){return v.forEach(e,function(e){t=e(t,r)}),t}function _(e){return!(!e||!e.__CANCEL__)}var I=H;function B(e){e.cancelToken&&e.cancelToken.throwIfRequested()}function L(t){var e,r,n;return B(t),t.baseURL&&(n=t.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n))&&(t.url=(e=t.baseURL,(r=t.url)?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e)),t.headers=t.headers||{},t.data=N(t.data,t.headers,t.transformRequest),t.headers=v.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),v.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||U.adapter)(t).then(function(e){return B(t),e.data=N(e.data,e.headers,t.transformResponse),e},function(e){return _(e)||(B(t),e&&e.response&&(e.response.data=N(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}function F(e){this.defaults=e,this.interceptors={request:new I,response:new I}}F.prototype.request=function(e,t){"string"==typeof e&&(e=v.merge({url:arguments[0]},t)),(e=v.merge(U,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var r=[L,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){r.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n},v.forEach(["delete","get","head","options"],function(r){F.prototype[r]=function(e,t){return this.request(v.merge(t||{},{method:r,url:e}))}}),v.forEach(["post","put","patch"],function(n){F.prototype[n]=function(e,t,r){return this.request(v.merge(r||{},{method:n,url:e,data:t}))}});var z=F;function V(e){this.message=e}V.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},V.prototype.__CANCEL__=!0;var Q=V;function G(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new Q(e),t(r.reason))})}G.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},G.source=function(){var t;return{token:new G(function(e){t=e}),cancel:t}};var J=G;function X(e){var t=new z(e),r=a(z.prototype.request,t);return v.extend(r,z.prototype,t),v.extend(r,t),r}var M=X(U);M.Axios=z,M.create=function(e){return X(v.merge(U,e))},M.Cancel=Q,M.CancelToken=J,M.isCancel=_,M.all=function(e){return Promise.all(e)},M.spread=function(t){return function(e){return t.apply(null,e)}};var $=M,K=M;$.default=K;function W(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}function Y(e,t){pe.apply(e,le(t)?t:[t])}function Z(e,t,r,n,o,a,i,s,u,c,f,l,p){var d,h=e;if("function"==typeof i?h=i(t,h):h instanceof Date?h=c(h):"comma"===r&&le(h)&&(h=h.join(",")),null===h){if(n)return a&&!l?a(t,ye.encoder,p,"key"):t;h=""}if("string"==typeof(d=h)||"number"==typeof d||"boolean"==typeof d||"symbol"==typeof d||"bigint"==typeof d||oe.isBuffer(h))return a?[f(l?t:a(t,ye.encoder,p,"key"))+"="+f(a(h,ye.encoder,p,"value"))]:[f(t)+"="+f(String(h))];var y,m=[];if(void 0===h)return m;if(le(i))y=i;else{var v=Object.keys(h);y=s?v.sort(s):v}for(var g=0;g<y.length;++g){var b=y[g];o&&null===h[b]||(le(h)?Y(m,Z(h[b],"function"==typeof r?r(t,b):t,r,n,o,a,i,s,u,c,f,l,p)):Y(m,Z(h[b],t+(u?"."+b:"["+b+"]"),r,n,o,a,i,s,u,c,f,l,p)))}return m}var ee=$,te=Object.prototype.hasOwnProperty,re=Array.isArray,ne=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),oe={arrayToObject:W,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],a=o.obj[o.prop],i=Object.keys(a),s=0;s<i.length;++s){var u=i[s],c=a[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:a,prop:u}),r.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(re(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",a=0;a<n.length;++a){var i=n.charCodeAt(a);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?o+=n.charAt(a):i<128?o+=ne[i]:i<2048?o+=ne[192|i>>6]+ne[128|63&i]:i<55296||57344<=i?o+=ne[224|i>>12]+ne[128|i>>6&63]+ne[128|63&i]:(a+=1,i=65536+((1023&i)<<10|1023&n.charCodeAt(a)),o+=ne[240|i>>18]+ne[128|i>>12&63]+ne[128|i>>6&63]+ne[128|63&i])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function n(o,a,i){if(!a)return o;if("object"!=typeof a){if(re(o))o.push(a);else{if(!o||"object"!=typeof o)return[o,a];(i&&(i.plainObjects||i.allowPrototypes)||!te.call(Object.prototype,a))&&(o[a]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(a);var e=o;return re(o)&&!re(a)&&(e=W(o,i)),re(o)&&re(a)?(a.forEach(function(e,t){if(te.call(o,t)){var r=o[t];r&&"object"==typeof r&&e&&"object"==typeof e?o[t]=n(r,e,i):o.push(e)}else o[t]=e}),o):Object.keys(a).reduce(function(e,t){var r=a[t];return te.call(e,t)?e[t]=n(e[t],r,i):e[t]=r,e},e)}},ae=String.prototype.replace,ie=/%20/g,se={RFC1738:"RFC1738",RFC3986:"RFC3986"},ue=oe.assign({default:se.RFC3986,formatters:{RFC1738:function(e){return ae.call(e,ie,"+")},RFC3986:function(e){return String(e)}}},se),ce=Object.prototype.hasOwnProperty,fe={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},le=Array.isArray,pe=Array.prototype.push,de=Date.prototype.toISOString,he=ue.default,ye={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:oe.encode,encodeValuesOnly:!1,format:he,formatter:ue.formatters[he],indices:!1,serializeDate:function(e){return de.call(e)},skipNulls:!1,strictNullHandling:!1},me=(Object.prototype.hasOwnProperty,Array.isArray,function(e,t){var r,n=e,o=function(e){if(!e)return ye;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||ye.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=ue.default;if(void 0!==e.format){if(!ce.call(ue.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=ue.formatters[r],o=ye.filter;return"function"!=typeof e.filter&&!le(e.filter)||(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:ye.addQueryPrefix,allowDots:void 0===e.allowDots?ye.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:ye.charsetSentinel,delimiter:void 0===e.delimiter?ye.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:ye.encode,encoder:"function"==typeof e.encoder?e.encoder:ye.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:ye.encodeValuesOnly,filter:o,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:ye.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:ye.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:ye.strictNullHandling}}(t);"function"==typeof o.filter?n=(0,o.filter)("",n):le(o.filter)&&(r=o.filter);var a,i=[];if("object"!=typeof n||null===n)return"";a=t&&t.arrayFormat in fe?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=fe[a];r=r||Object.keys(n),o.sort&&r.sort(o.sort);for(var u=0;u<r.length;++u){var c=r[u];o.skipNulls&&null===n[c]||Y(i,Z(n[c],c,s,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var f=i.join(o.delimiter),l=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),0<f.length?l+f:""}),ve={default:"网络走神了,请稍后再试",repeat:"请求频率过快",cancel:"请求已取消",network:"网络异常或服务器连接失败",aborted:"请求被中止",timeout:"请求服务器响应超时，请求已经被中断",301:"请求的资源已被永久的移动到新URI",302:"请求的资源临时被移动，请重新发送请求",303:"请求的资源已被永久的移动到新URI，使用GET和POST请求查看",304:"所请求资源未变动，已使用本地缓存资源进行访问",305:"所请求的资源必须通过代理访问",306:"请求的资源已被移动",307:"请求的资源临时被移动，使用GET请求重定向",400:"客户端请求发生语法错误，服务器无法处理该请求",401:"被请求的页面需要进行身份验证",402:"未知客户端错误",403:"所请求页面的禁止访问",404:"Not Found，所请求地址不存在",405:"请求中指定的方法被禁止使用",406:"服务器无法根据客户端请求的内容特性完成请求",407:"用户必须首先使用代理服务器进行验证并授权",408:"服务器等待客户端发送的请求已超时",409:"由于冲突，请求无法被完成",410:"指定请求的页面已经被移动或不存在",411:"服务器无法处理客户端发送的不带 Content-Length 的请求信息",412:"请求失败，请求中前提条件有错误",413:"由于所请求的实体的太大，服务器拒绝处理该请求",414:"请求的URI过长（URI通常为网址），服务器无法处理",415:"服务器无法处理请求附带的媒体格式",416:"客户端请求的范围 Range 无效",417:"服务器无法满足 Expect 的请求头信息",500:"服务器内部错误，无法完成请求",501:"服务器不支持所请求的功能，无法完成请求",502:"充当网关或代理的服务器，从远端服务器接收到了一个无效的请求",503:"由于超载或系统维护，服务器暂时的无法处理客户端的请求",504:"充当网关或代理的服务器，未及时从远端服务器获取请求",505:"服务器不支持请求中指明的HTTP协议版本"};function ge(e,t){return{message:e,name:1<arguments.length&&void 0!==t?t:"error",type:"error"}}ve.merge=function(e){Object.assign(ve,e)},ve.info=function(e){switch(r(e)){case"undefined":return ge(ve.network);case"object":if(e.response&&e.response.status&&ve[e.response.status])return ge("[".concat(e.response.status,"] ").concat(ve[e.response.status]),"server");if(e instanceof Error)return/^timeout of/i.test(e.message)?ge(ve.timeout,"timeout"):/^network/i.test(e.message)?ge(ve.network,"network"):ge(e.message);if(/^cancel/i.test(e.toString())){var t=e.message;return ve.hasOwnProperty(t)?ge(ve[t],t):ge(ve.cancel)}return ge(ve.default);case"string":return ge(e);default:return ge(ve.default)}};var be={text:"text",json:"json",blob:"blob",document:"document",arraybuffer:"arraybuffer"},we={stream:"application/octet-stream",json:"application/json",form:"application/x-www-form-urlencoded",formData:"multipart/form-data",javascript:"application/x-javascript"},je=function(){function p(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,p),this.options=e,this.list=[]}return t(p,[{key:"cancel",value:function(e,t){if(e){var r=this.get(e);r&&this._cancel(r,t),r&&this.dequeue(r)}else for(var n=this.list,o=n.length-1;0<=o;o--){var a=n[o];this._cancel(a,t),this.dequeue(a)}}},{key:"_cancel",value:function(e,t){e&&("function"==typeof e.cancelToken&&e.cancelToken(t),e.cancelToken=null)}},{key:"get",value:function(t){return this.list.filter(function(e){return e.uuid===t.uuid})[0]}},{key:"enqueue",value:function(e,t){for(var r=this,n=this.options,o="boolean"==typeof e.stopRepeatRequest?e.stopRepeatRequest:n.stopRepeatRequest,a=[],i=this.list,s=i.length-1;0<=s;s--){var u=i[s];u.id===e.id&&o&&a.push(u)}i.push(e),a.forEach(function(e){r.cancel(e,t)})}},{key:"dequeue",value:function(e){var t=this.list;this.log("准备移除队列",JSON.stringify(this.list));for(var r=e.uuid,n=t.length-1;0<=n;n--){var o=t[n];if(o.uuid===r){this.log("移除队列成功",o.uuid),t.splice(n,1);break}}}},{key:"log",value:function(){this.options.debug&&console.log.apply(this,arguments)}},{key:"error",value:function(){this.options.debug&&console.error.apply(this,arguments)}},{key:"warn",value:function(){this.options.debug&&console.warn.apply(this,arguments)}}],[{key:"getQueueUniqueId",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},r=t.data,n=void 0===r?null:r,o=t.params,a=void 0===o?null:o,i=t.method,s=void 0===i?"":i,u=t.url,c=void 0===u?"":u,f=null,l="";return l="string"==typeof(f=["get","delete","head"].includes(s.toLowerCase())?a:n)?f:(c=p.replace(c,f||{}),me(f)),"".concat(c,"?method=").concat(s,"&").concat(l)}},{key:"replace",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=t;try{Object.keys(r).forEach(function(e){t=t.replace(new RegExp("{".concat(e,"}"),"img"),r[e])}),n=t}catch(e){console.error(e)}return n}}]),p}(),Re=ee.CancelToken;var Oe=function(){function g(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,g),w(this,"_conf",null),w(this,"_axios",null),w(this,"_api",[]),w(this,"isTrim",!0),w(this,"stopRepeatRequest",!1),w(this,"repeatInterval",2e3),w(this,"debug",!1),w(this,"HttpError",ve);var r=e.api,n=e.debug,o=e.isTrim,a=e.getResponseSuccess,i=e.stopRepeatRequest,s=e.repeatInterval,u=e.HttpError,c=e.beforeRequest,f=e.afterRequest,l=e.handleRequest,p=e.handleError,d=e.handleSuccess,h=e.setHeaders,y=e.getHeaders,m=R(e,["api","debug","isTrim","getResponseSuccess","stopRepeatRequest","repeatInterval","HttpError","beforeRequest","afterRequest","handleRequest","handleError","handleSuccess","setHeaders","getHeaders"]),v={debug:n,isTrim:o,getResponseSuccess:a,stopRepeatRequest:i,repeatInterval:s,HttpError:u,beforeRequest:c,afterRequest:f,handleRequest:l,handleError:p,handleSuccess:d,setHeaders:h,getHeaders:y};Object.keys(v).forEach(function(e){void 0!==v[e]&&(t[e]=v[e])}),this._conf=Object.assign({},g.Default,m),this._api=this.formatAPI(r),this._init()}return t(g,[{key:"_init",value:function(){var o=this,r=this.HttpError;this._axios=ee.create(this._conf),this._axios.interceptors.request.use(function(n){o.log("[interceptors.request.config]",n),o.handleRequest&&o.handleRequest(n);var e=o.setHeaders&&o.setHeaders(n),t=(n.data||n.params||{}).$timeout;return e&&(n.headers=Object.assign(n.headers,e||{})),t&&(n.timeout=t),n.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),n.cancelToken=new Re(function(e){var t=je.getQueueUniqueId(n),r={stopRepeatRequest:n.stopRepeatRequest,uuid:n.uuid,id:t,cancelToken:e};o.log("enqueue",r),o._queue.enqueue(r,"repeat")}),n},function(e){o.error("interceptors.request.error",e.message,e),Promise.reject(e)}),this._axios.interceptors.response.use(function(e){var t=e.config.repeatInterval||o.repeatInterval;return setTimeout(function(){o._queue.dequeue(e.config)},t),o._responseHandler(e)},function(e){o.error("interceptors.response.error",e.message,e.config),e&&e.response&&o._queue.dequeue(e.response.config);var t=r.info(e);return Promise.reject(t)}),this._queue=new je({debug:this.debug,HttpError:r,stopRepeatRequest:this.stopRepeatRequest})}},{key:"toURL",value:function(t){return t&&Object.keys(t).length?"?"+Object.keys(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&"):""}},{key:"replace",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{};return Object.keys(r).forEach(function(e){t=t.replace(new RegExp("{".concat(e,"}"),"img"),r[e])}),t}},{key:"beforeRequest",value:function(){}},{key:"afterRequest",value:function(){}},{key:"handleRequest",value:function(){}},{key:"handleError",value:function(){}},{key:"handleSuccess",value:function(e){return Promise.resolve(e)}},{key:"getResponseSuccess",value:function(){return!0}},{key:"setHeaders",value:function(){}},{key:"getHeaders",value:function(){}},{key:"cancel",value:function(){this.log("取消队列",this._queue.list.length),this._queue.cancel(null,"cancel")}},{key:"formatAPI",value:function(i){var s=[],u={};return Array.isArray(i)?i.forEach(function(e){var t=e.name,r=void 0===t?"":t,n=e.path,o=void 0===n?"":n,a=e.method,i={name:r,path:o,method:void 0===a?"get":a,meta:j({},R(e,["name","path","method"]))};if(!i.name||!i.path)throw new Error("缺少name, path");if(u[i.name])throw new Error("存在相同的name");u[i.name]=1,s.push(i)}):"[object Object]"===Object.prototype.toString.call(i)&&Object.keys(i).forEach(function(e){var t=i[e],r="string"==typeof t?[t]:t,n=r[0],o=j({},r[1]),a={name:e,path:n,method:o.method||o.methods||"get",meta:j({},o)};if(!a.name||!a.path)throw new Error("缺少name, path");s.push(a)}),console.log("api",s),s}},{key:"toAPI",value:function(e){var t=this.formatAPI(e),s={},u=this;return t.forEach(function(e){var r=e.path,t=e.name,n=e.method,o=void 0===n?"get":n,a=e.meta,i=void 0===a?{}:a;s[t]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=j({},i,{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return u[o](r,e,t)}}),s}},{key:"trimData",value:function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&"string"==typeof e[t]&&(e[t]=e[t].replace(/^\s+|\s+$/gm,""));return e}},{key:"request",value:function(e){var n=this,t=0<arguments.length&&void 0!==e?e:{},r=this._api||[],o=this.isTrim,a=t.url,i=void 0===a?"":a,s=t.payload,u=void 0===s?null:s,c=t.method,f=void 0===c?"GET":c,l=t.params,p=void 0===l?null:l,d=t.data,h=void 0===d?null:d,y=R(t,["url","payload","method","params","data"]),m=r.filter(function(e){return e.name===i})[0],v=m?m.path:i,g=m?Object.assign({},y,m.meta||{}):y,b=j({},g);return u=u||h||p||{},f=m?m.method||"GET":f,["GET","HEAD","DELETE"].includes(f.toUpperCase())?b.params=u:b.data=u,i=this.replace(v,u),o&&this.trimData(b.params),o&&this.trimData(b.data),b.url=i,b.method=f,this.log("request原装参数",JSON.stringify(t)),this.log("request最终参数",JSON.stringify(b)),new Promise(function(t,r){n.beforeRequest({url:i,path:v,payload:u,meta:g}),n._axios.request(b).then(function(e){n.afterRequest({url:i,path:v,payload:u,meta:g,body:e}),t(e)}).catch(function(e){n.afterRequest({url:i,path:v,payload:u,meta:g,body:e}),r(e)})}).then(function(e){return n.handleSuccess({body:e,path:v,url:i,payload:u,meta:g}),e}).catch(function(e){return"cancel"!==e.name&&n.handleError({body:e,path:v,url:i,payload:u,meta:g}),Promise.reject(e)})}},{key:"get",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:[],o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"GET",url:e,params:n},o))}},{key:"head",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:[],o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"HEAD",url:e,params:n},o))}},{key:"post",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"POST",url:e,data:n},o))}},{key:"put",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"PUT",url:e,data:n},o))}},{key:"patch",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"PATCH",url:e,data:n},o))}},{key:"delete",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r?r:{};return this.request(j({method:"DELETE",url:e,params:n},o))}},{key:"download",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==r?r:{};return o.responseType=be.arraybuffer,this.request(j({url:e,payload:n},o)).then(function(e){if(e.headers){var t=e.headers["x-suggested-filename"];if(!t){var r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e.headers["content-disposition"]);null!=r&&r[1]&&(t=r[1].replace(/['"]/g,""))}if(t){var n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");return o.href=n,o.setAttribute("download",decodeURIComponent(t)),o.click(),window.URL.revokeObjectURL(n),{message:"下载成功"}}return Promise.reject({name:"download",message:"文件内容已损坏"})}return e})}},{key:"_responseHandler",value:function(e){if(this.getHeaders&&this.getHeaders(e),"blob"===e.config.responseType)return Promise.resolve(e);if("arraybuffer"===e.config.responseType){if(!(-1<((e.headers||{})["content-type"]||"").indexOf("application/json")))return Promise.resolve(e);try{var t=JSON.parse(Buffer.from(e.data).toString("utf8"));return this.getResponseSuccess(t)?Promise.resolve(t):Promise.reject(t)}catch(e){return Promise.reject(e)}}return this.getResponseSuccess(e.data)?Promise.resolve(e.data):Promise.reject(e.data)}},{key:"batchUseInterceptor",value:function(e){var o=this;e.forEach(function(e){var t=e.type,r=e.interceptor,n=e.error;o.useInterceptor(t,r,n)})}},{key:"useInterceptor",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:null;return this._axios.interceptors[e].use(t,n)}},{key:"ejectInterceptor",value:function(e,t){var r=this._axios.interceptors[e],n=r.handlers;t instanceof Number&&t<n.length?r.eject(t):n.forEach(function(e,t){r.eject(t)})}},{key:"log",value:function(){this.debug&&console.log.apply(this,arguments)}},{key:"error",value:function(){this.debug&&console.error.apply(this,arguments)}},{key:"warn",value:function(){this.debug&&console.warn.apply(this,arguments)}}]),g}();w(Oe,"Default",{baseURL:"",timeout:15e3,responseType:be.json,withCredentials:!1,headers:{"Content-Type":we.json},paramsSerializer:function(e){return me(e,{arrayFormat:"repeat"})}}),e.install=function(e,t){e.http=new Oe(t)},e.Request=Oe,e.HttpError=ve,e.ResponseType=be,e.ContentType=we,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
